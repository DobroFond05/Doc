# Регламент обновления рабочей базы

## Запомни!

* Самое ценное для владельца базы - это **данные**
* Исполнитель обновления базы должен осознавать всю **серьезность** данной процедуры

### Модель обновления

* В *Хранилище 1С* создается специальный пользователь с единственной ролью *Захват объектов*. Для единственной задачи, получения актуальной конфигурации
* Обновление рабочей базы производится с помощью получения актуальной конфигурации из *Хранилища 1С*
* Резервное копирование данных производится средствами СУБД
* Пользователи системы должны быть оповещены о времени планового обновления базы

### Шаги обновления

1. Установить блокировку работы пользователей в базе до завершения процедуры обновления
2. Убедиться что в базе не осталось рабочих сеансов пользователей. При необходимости заблаговременно запустить процедуру блокировки работы пользователей в базе за 15 минут
3. Сделать резервную копию (бекап) **базы**. Средствами СУБД!
4. Сделать резервную копию **конфигурации**. Средствами Конфигуратора
5. Получить актуальную конфигурацию из *Хранилища 1С*. Меню: *Конфигурация->Хранилище конфигурации->Обновить конфигурацию из хранилища*
6. Обновить конфигурацию базы данных (F7)
7. Запустить базу в режиме предприятия под пользоватлем *Администратор*. И ответить на диалог легального получения и продолжить процесс обновления
8. Отключить ранее подключенные расширения конфигурации 1С, которые были подключены как патч
9. Проверить работу пользователя через клиенты которыми они пользуются. (Тонкий, Веб и др.)
10. Снять блокировку работы пользователей